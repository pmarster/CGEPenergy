(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=47)})({47:function(){'use strict';jQuery(document).ready(function(a){function b(b,c){a(b).attr('data-original-title',c).tooltip('show')}function c(b){setTimeout(function(){a(b).tooltip('destroy')},2e3)}(function(){a('.omapi-select').each(function(){var b=-1<a(this).attr('id').indexOf('taxonomies')?OMAPI.tags:OMAPI.posts;a(this).select2({minimumInputLength:1,multiple:!0,data:b,initSelection:function(c,d){var e=a(c).val();e=e.split(',');var f=b.filter(function(a){return-1<e.indexOf(a.id)});d(f)}}).on('change select2-removed',function(){})})})(),function(){var b=a('#omapi-field-automatic'),c=a('#omapi-field-mailpoet'),d=a('#omapi-field-mailpoet_use_phone'),e=function(){var c=b.is(':checked')?'hide':'show';a('.omapi-field-box-automatic_shortcode')[c]()},f=function(){var b=d.is(':checked')?'show':'hide';a('.omapi-field-box-mailpoet_phone_field')[b]()},g=function(){var b=c.is(':checked'),d=b?'show':'hide';a('.omapi-field-box-mailpoet_list')[d](),a('.omapi-field-box-mailpoet_use_phone')[d](),a('.omapi-field-box-mailpoet_phone_field')[d](),b&&f()};e(),g(),a(document).on('change','#omapi-field-automatic',e),a(document).on('change','#omapi-field-mailpoet',g),a(document).on('change','#omapi-field-mailpoet_use_phone',f)}(),function(){a('.omapi-ui-toggle-controller').click(function(b){var c=b.currentTarget;a(c).toggleClass('toggled'),a(c).next('.omapi-ui-toggle-content').toggleClass('visible')})}(),function(){a(document).on('click','input[name=reset]',function(){return confirm(OMAPI.confirm)})}(),function(){var a=new Clipboard('.omapi-copy-button');a.on('success',function(a){b(a.trigger,'Copied to Clipboard!'),c(a.trigger)}),a.on('error',function(a){var d='';d=/iPhone|iPad/i.test(navigator.userAgent)?'Unable to Copy on this device':/Mac/i.test(navigator.userAgent)?'Press \u2318-C to Copy':'Press Ctrl-C to Copy',b(a.trigger,d),c(a.trigger)})}(),function(){a('omapi-copy-button').tooltip({trigger:'click',placement:'top'})}(),function(){var b=a('#js--omapi-support-pdf'),c=function(b){var c=new jsPDF('p','mm','letter');c.text(10,10,'OptinMonster Support Assistance');var d=10;a.each(b.server,function(a,b){d+=10,c.text(10,d,a+' : '+b)}),a.each(b.campaigns,function(b,d){var e=10;c.addPage(),c.text(10,10,b),a.each(d,function(b,d){var f=a.isPlainObject(d)?'':d;e+=10,c.text(10,e,b+' : '+f),a.isPlainObject(d)&&a.each(d,function(a,b){e+=10,c.text(20,e,a+' : '+b)})})}),c.save('OMSupportHelp.pdf')};b.click(function(d){d.preventDefault(),a('.om-api-key-spinner').remove(),b.after('<div class="om-api-key-spinner spinner is-active" style="float: none;margin-top:7px;"></div>'),a.ajax({url:OMAPI.root+'omapp/v1/support?format=pdf',beforeSend:function(a){return a.setRequestHeader('X-WP-Nonce',OMAPI.nonce)},dataType:'json',data:{format:'pdf'},success:c}).done(function(){return a('.om-api-key-spinner').remove()}).fail(function(a,b){return console.error({jqXHR:a,textStatus:b})})})}(),function(){a('[data-toggle="tooltip"]').tooltip()}(),function(){a('#omapiShowApiKey').click(function(b){b.preventDefault(),a('#omapi-form-api .omapi-hidden').removeClass('omapi-hidden'),a('#omapi-field-apikey').focus().select()}),a('#omapiShowApiKeys').click(function(b){b.preventDefault(),a('#omapi-form-woocommerce .omapi-hidden').removeClass('omapi-hidden'),a('.manually-connect-wc').hide(),a('#omapi-field-consumer_key').focus().select()}),a('#omapiDisconnectButton').click(function(b){b.preventDefault(),OMAPI.updateForm('',a(this))})}(),function(){a('.install-plugin-form').submit(function(b){b.preventDefault();var c=a(b.currentTarget).serializeArray(),d=c.find(function(a){return'nonce'===a.name}).value,e=c.find(function(a){return'plugin'===a.name}).value,f=e.replace('.','').replace('/',''),g=c.find(function(a){return'action'===a.name}).value,h=c.find(function(a){return'url'===a.name}).value,i=a('.omapi-plugin-recommendation--'+f);i.length||(i=a('html')),a('.button-install',i).html('Installing...'),a('.button-activate',i).html('Activating...'),a('#om-plugin-alerts').hide(),a.post(ajaxurl,{action:'om_plugin_install',"optin-monster-ajax-route":!0,nonce:d,plugin:e,installAction:g,url:h},function(b){b.success?window.location.reload():(a('.button-install',i).html('Install Plugin'),a('.button-activate',i).html('Activate Plugin'),a('#om-plugin-alerts').show().html(a('<p/>').html(b.data||'Something went wrong!')))})})}(),function(){if(window.history.replaceState&&window.location.search){var a=function(a,b){var c=b.split('?');if(2>c.length)return b;for(var d=encodeURIComponent(a)+'=',e=c[1].split(/[&;]/g),f=e.length;0<f--;)-1!==e[f].lastIndexOf(d,0)&&e.splice(f,1);return c[0]+(0<e.length?'?'+e.join('&'):'')},b=['optin_monster_api_action_done','optin_monster_api_action_type','optin_monster_api_action_id'],c=document.location.href;window.location.search.split('&').forEach(function(d){b.forEach(function(b){0===d.indexOf(b)&&(c=a(d.split('=')[0],c))})}),window.history.replaceState(null,null,c)}}()})}});